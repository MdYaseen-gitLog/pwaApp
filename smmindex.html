<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AbeehaSMM API Test Page</title>

<style>
    body {
        font-family: Arial, sans-serif;
        padding: 20px;
        max-width: 900px;
        margin: auto;
        background: #f5f5f5;
    }
    h2 { margin-top: 40px; }
    button {
        padding: 10px 20px;
        background: #007bff;
        color: white;
        border: none;
        cursor: pointer;
        margin-top: 10px;
    }
    button:hover { background: #0056b3; }
    textarea, input {
        width: 100%;
        padding: 10px;
        margin-top: 10px;
        font-size: 15px;
    }
    #result {
        white-space: pre-wrap;
        background: white;
        padding: 15px;
        margin-top: 20px;
        border-radius: 5px;
        border: 1px solid #ddd;
    }
</style>
</head>

<body>

<h1>AbeehaSMM API Test Panel</h1>

<label>API Key:</label>
<input id="apiKey" type="text" placeholder="Enter your API key">

<h2>1. Get Balance</h2>
<button onclick="getBalance()">Get Balance</button>

<h2>2. Get Services</h2>
<button onclick="getServices()">Load Services</button>

<h2>3. Check Order Status</h2>
<input id="orderId" type="text" placeholder="Enter order ID">
<button onclick="checkStatus()">Check Status</button>

<h2>Output</h2>
<div id="result">Waiting for request...</div>

<script>
const API_URL = "https://abeehasmm.com/api/v2";

// helper for API POST
async function apiRequest(params) {
    const apiKey = document.getElementById("apiKey").value.trim();
    if (!apiKey) return alert("Enter your API key!");

    params.append("key", apiKey);

    const res = await fetch(API_URL, {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: params.toString(),
    });

    return res.json();
}

// get balance
async function getBalance() {
    const params = new URLSearchParams();
    params.append("action", "balance");

    const data = await apiRequest(params);
    document.getElementById("result").textContent = JSON.stringify(data, null, 2);
}

// get services
async function getServices() {
    const params = new URLSearchParams();
    params.append("action", "services");

    const data = await apiRequest(params);
    document.getElementById("result").textContent = JSON.stringify(data, null, 2);
}

// check status
async function checkStatus() {
    const id = document.getElementById("orderId").value.trim();
    if (!id) return alert("Enter order ID!");

    const params = new URLSearchParams();
    params.append("action", "status");
    params.append("order", id);

    const data = await apiRequest(params);
    document.getElementById("result").textContent = JSON.stringify(data, null, 2);
}
</script>

</body>
</html>
